import{g as je,u as Ve,n as Fe,c as N,a as g,t as T}from"../chunks/CLAry2k1.js";import{y as _,W as U,V as pe,X as me,a3 as ve,B as Le,aA as he,a6 as D,aQ as Be,aa as Ge,a7 as Re,a1 as ce,a0 as de,ak as qe,a4 as De,a2 as Ie,p as _e,e as x,f as $,d as h,r as b,t as Y,h as Oe,b as xe,g as f,as as Qe,G as Xe,o as He,am as Je,s as Ke,at as R}from"../chunks/CHWvRFv0.js";import{i as q}from"../chunks/BO9lghZz.js";import{e as Ue,i as Ye,c as ue,s as k}from"../chunks/rhR0QdnA.js";import{l as E,p as P,s as I,a as Ze,b as et}from"../chunks/B4_PvOgV.js";import{a as fe}from"../chunks/CcFx1PYm.js";import"../chunks/DgHr3P3x.js";import{s as tt,g as ge}from"../chunks/CWMMwsoL.js";import{g as at}from"../chunks/BszSExbv.js";import{i as st}from"../chunks/DdeQhgMz.js";function j(s,t,l,o,e){var n;_&&U();var a=(n=t.$$slots)==null?void 0:n[l],r=!1;a===!0&&(a=t.children,r=!0),a===void 0||a(s,r?()=>o:o)}function rt(s,t,...l){var o=s,e=Le,a;pe(()=>{e!==(e=t())&&(a&&(he(a),a=null),a=ve(()=>e(o,...l)))},me),_&&(o=D)}function nt(s,t,l,o,e,a){let r=_;_&&U();var n,y,c=null;_&&D.nodeType===1&&(c=D,U());var d=_?D:s,i;pe(()=>{const u=t()||null;var w=Be;u!==n&&(i&&(u===null?De(i,()=>{i=null,y=null}):u===y?Ie(i):he(i)),u&&u!==y&&(i=ve(()=>{if(c=_?c:document.createElementNS(w,u),je(c,c),o){_&&Ve(u)&&c.append(document.createComment(""));var p=_?Ge(c):c.appendChild(Re());_&&(p===null?ce(!1):de(p)),o(c,p)}qe.nodes_end=c,d.before(c)})),n=u,n&&(y=n))},me),r&&(ce(!0),de(d))}const lt=()=>{const s=tt;return{page:{subscribe:s.page.subscribe},navigating:{subscribe:s.navigating.subscribe},updated:s.updated}},it={subscribe(s){return lt().page.subscribe(s)}};/**
 * @license lucide-svelte v0.509.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const ot={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var ct=Fe("<svg><!><!></svg>");function O(s,t){const l=E(t,["children","$$slots","$$events","$$legacy"]),o=E(l,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);_e(t,!1);let e=P(t,"name",8,void 0),a=P(t,"color",8,"currentColor"),r=P(t,"size",8,24),n=P(t,"strokeWidth",8,2),y=P(t,"absoluteStrokeWidth",8,!1),c=P(t,"iconNode",24,()=>[]);const d=(...v)=>v.filter((m,z,M)=>!!m&&M.indexOf(m)===z).join(" ");st();var i=ct();let u;var w=x(i);Ue(w,1,c,Ye,(v,m)=>{let z=()=>f(m)[0],M=()=>f(m)[1];var V=N(),Q=$(V);nt(Q,z,!0,(X,H)=>{let F;Y(()=>F=ue(X,F,{...M()}))}),g(v,V)});var p=h(w);j(p,t,"default",{}),b(i),Y((v,m)=>u=ue(i,u,{...ot,...o,width:r(),height:r(),stroke:a(),"stroke-width":v,class:m}),[()=>y()?Number(n())*24/Number(r()):n(),()=>d("lucide-icon","lucide",e()?`lucide-${e()}`:"",l.class)],Oe),g(s,i),xe()}function dt(s,t){const l=E(t,["children","$$slots","$$events","$$legacy"]);O(s,I({name:"circle-plus"},()=>l,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M8 12h8"}],["path",{d:"M12 8v8"}]],children:(e,a)=>{var r=N(),n=$(r);j(n,t,"default",{}),g(e,r)},$$slots:{default:!0}}))}function ut(s,t){const l=E(t,["children","$$slots","$$events","$$legacy"]);O(s,I({name:"circle-user-round"},()=>l,{iconNode:[["path",{d:"M18 20a6 6 0 0 0-12 0"}],["circle",{cx:"12",cy:"10",r:"4"}],["circle",{cx:"12",cy:"12",r:"10"}]],children:(e,a)=>{var r=N(),n=$(r);j(n,t,"default",{}),g(e,r)},$$slots:{default:!0}}))}function ft(s,t){const l=E(t,["children","$$slots","$$events","$$legacy"]);O(s,I({name:"database"},()=>l,{iconNode:[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5"}],["path",{d:"M3 12A9 3 0 0 0 21 12"}]],children:(e,a)=>{var r=N(),n=$(r);j(n,t,"default",{}),g(e,r)},$$slots:{default:!0}}))}function gt(s,t){const l=E(t,["children","$$slots","$$events","$$legacy"]);O(s,I({name:"goal"},()=>l,{iconNode:[["path",{d:"M12 13V2l8 4-8 4"}],["path",{d:"M20.561 10.222a9 9 0 1 1-12.55-5.29"}],["path",{d:"M8.002 9.997a5 5 0 1 0 8.9 2.02"}]],children:(e,a)=>{var r=N(),n=$(r);j(n,t,"default",{}),g(e,r)},$$slots:{default:!0}}))}var pt=T('<div class="flex items-center justify-center min-h-screen"><p class="text-xl">Loading...</p></div>'),mt=T('<div class="flex items-center justify-center min-h-screen"><p class="text-xl">Redirecting to login...</p></div>'),vt=T('<a href="/" title="Log"><!> <span>Log</span></a> <a href="/food-items" title="Foods"><!> <span>Foods</span></a> <a href="/settings/targets" title="Targets"><!> <span>Targets</span></a> <a href="/profile" title="Profile"><!> <span>Profile</span></a>',1),ht=T('<a href="/login" class="text-gray-700 hover:text-indigo-600">Login</a>'),_t=T('<header class="bg-gray-100 shadow-sm"><nav class="container mx-auto px-4 py-2 flex justify-between items-center max-w-5xl"><a href="/" class="text-lg font-semibold text-indigo-600 hover:text-indigo-800">Eatelligence</a> <div class="flex items-center space-x-1 lg:space-x-4"><!></div></nav></header> <main class="container mx-auto p-4 max-w-5xl"><!></main>',1);function At(s,t){_e(t,!0);const[l,o]=Ze(),e=()=>et(it,"$page",l);let a=Qe(Xe(at(fe)));He(()=>{const d=fe.subscribe(i=>{Ke(a,i,!0)});return!f(a).loading&&!f(a).user&&e().url.pathname!=="/login"&&ge("/login"),()=>{d()}}),Je(()=>{!f(a).loading&&!f(a).user&&e().url.pathname!=="/login"&&ge("/login")});var r=N(),n=$(r);{var y=d=>{var i=pt();g(d,i)},c=(d,i)=>{{var u=p=>{var v=mt();g(p,v)},w=p=>{var v=_t(),m=$(v),z=x(m),M=h(x(z),2),V=x(M);{var Q=S=>{var W=vt(),A=$(W);let L;var C=x(A);const J=R(()=>e().url.pathname==="/"?28:24);dt(C,{get size(){return f(J)}});var be=h(C,2);let Z;b(A);var B=h(A,2);let ee;var te=x(B);const $e=R(()=>e().url.pathname==="/food-items"?28:24);ft(te,{get size(){return f($e)}});var ye=h(te,2);let ae;b(B);var G=h(B,2);let se;var re=x(G);const ke=R(()=>e().url.pathname==="/settings/targets"?28:24);gt(re,{get size(){return f(ke)}});var Ne=h(re,2);let ne;b(G);var K=h(G,2);let le;var ie=x(K);const we=R(()=>e().url.pathname==="/profile"?28:24);ut(ie,{get size(){return f(we)}});var ze=h(ie,2);let oe;b(K),Y((Me,Se,Ae,Ce,Pe,Ee,We,Te)=>{L=k(A,1,"hover:text-indigo-600 p-2 lg:p-0 lg:flex lg:items-center",null,L,Me),Z=k(be,1,"hidden lg:inline lg:ml-1.5",null,Z,Se),ee=k(B,1,"hover:text-indigo-600 p-2 lg:p-0 lg:flex lg:items-center",null,ee,Ae),ae=k(ye,1,"hidden lg:inline lg:ml-1.5",null,ae,Ce),se=k(G,1,"hover:text-indigo-600 p-2 lg:p-0 lg:flex lg:items-center",null,se,Pe),ne=k(Ne,1,"hidden lg:inline lg:ml-1.5",null,ne,Ee),le=k(K,1,"hover:text-indigo-600 p-2 lg:p-0 lg:flex lg:items-center",null,le,We),oe=k(ze,1,"hidden lg:inline lg:ml-1.5",null,oe,Te)},[()=>({"text-indigo-600":e().url.pathname==="/","text-gray-700":e().url.pathname!=="/"}),()=>({"font-semibold":e().url.pathname==="/"}),()=>({"text-indigo-600":e().url.pathname==="/food-items","text-gray-700":e().url.pathname!=="/food-items"}),()=>({"font-semibold":e().url.pathname==="/food-items"}),()=>({"text-indigo-600":e().url.pathname==="/settings/targets","text-gray-700":e().url.pathname!=="/settings/targets"}),()=>({"font-semibold":e().url.pathname==="/settings/targets"}),()=>({"text-indigo-600":e().url.pathname==="/profile","text-gray-700":e().url.pathname!=="/profile"}),()=>({"font-semibold":e().url.pathname==="/profile"})]),g(S,W)},X=S=>{var W=N(),A=$(W);{var L=C=>{var J=ht();g(C,J)};q(A,C=>{e().url.pathname!=="/login"&&C(L)})}g(S,W)};q(V,S=>{f(a).user?S(Q):S(X,!1)})}b(M),b(z),b(m);var H=h(m,2),F=x(H);rt(F,()=>t.children),b(H),g(p,v)};q(d,p=>{!f(a).user&&e().url.pathname!=="/login"?p(u):p(w,!1)},i)}};q(n,d=>{f(a).loading?d(y):d(c,!1)})}g(s,r),xe(),o()}export{At as component};
