import{g as je,u as Be,n as Fe,c as k,a as g,t as T}from"../chunks/CTCU8MtZ.js";import{y as _,X as Q,W as pe,Y as me,a4 as ve,B as Le,aB as he,a7 as D,aR as Re,ab as Ve,a8 as Ge,a2 as ce,a1 as de,al as qe,a5 as De,a3 as Ie,p as _e,e as x,f as $,d as h,r as b,t as U,h as Oe,b as xe,g as f,at as Xe,G as Ye,o as He,an as Je,s as Ke,au as G}from"../chunks/BRwduGv0.js";import{i as q}from"../chunks/CttsxjpS.js";import{e as Qe,i as Ue,c as ue,s as N}from"../chunks/WmSvwHMj.js";import{l as E,p as A,s as I,a as Ze,b as et}from"../chunks/NMd0Fp57.js";import{a as fe}from"../chunks/Ctqaqfst.js";import"../chunks/nPbPBRHT.js";import{s as tt,g as ge}from"../chunks/C0odXAus.js";import{g as at}from"../chunks/DNdwN7ow.js";import{i as st}from"../chunks/Nm97N5gH.js";function j(s,t,l,o,e){var r;_&&Q();var a=(r=t.$$slots)==null?void 0:r[l],n=!1;a===!0&&(a=t.children,n=!0),a===void 0||a(s,n?()=>o:o)}function nt(s,t,...l){var o=s,e=Le,a;pe(()=>{e!==(e=t())&&(a&&(he(a),a=null),a=ve(()=>e(o,...l)))},me),_&&(o=D)}function rt(s,t,l,o,e,a){let n=_;_&&Q();var r,y,c=null;_&&D.nodeType===1&&(c=D,Q());var d=_?D:s,i;pe(()=>{const u=t()||null;var w=Re;u!==r&&(i&&(u===null?De(i,()=>{i=null,y=null}):u===y?Ie(i):he(i)),u&&u!==y&&(i=ve(()=>{if(c=_?c:document.createElementNS(w,u),je(c,c),o){_&&Be(u)&&c.append(document.createComment(""));var p=_?Ve(c):c.appendChild(Ge());_&&(p===null?ce(!1):de(p)),o(c,p)}qe.nodes_end=c,d.before(c)})),r=u,r&&(y=r))},me),n&&(ce(!0),de(d))}const lt=()=>{const s=tt;return{page:{subscribe:s.page.subscribe},navigating:{subscribe:s.navigating.subscribe},updated:s.updated}},it={subscribe(s){return lt().page.subscribe(s)}};/**
 * @license lucide-svelte v0.509.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const ot={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var ct=Fe("<svg><!><!></svg>");function O(s,t){const l=E(t,["children","$$slots","$$events","$$legacy"]),o=E(l,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);_e(t,!1);let e=A(t,"name",8,void 0),a=A(t,"color",8,"currentColor"),n=A(t,"size",8,24),r=A(t,"strokeWidth",8,2),y=A(t,"absoluteStrokeWidth",8,!1),c=A(t,"iconNode",24,()=>[]);const d=(...v)=>v.filter((m,z,M)=>!!m&&M.indexOf(m)===z).join(" ");st();var i=ct();let u;var w=x(i);Qe(w,1,c,Ue,(v,m)=>{let z=()=>f(m)[0],M=()=>f(m)[1];var B=k(),X=$(B);rt(X,z,!0,(Y,H)=>{let F;U(()=>F=ue(Y,F,{...M()}))}),g(v,B)});var p=h(w);j(p,t,"default",{}),b(i),U((v,m)=>u=ue(i,u,{...ot,...o,width:n(),height:n(),stroke:a(),"stroke-width":v,class:m}),[()=>y()?Number(r())*24/Number(n()):r(),()=>d("lucide-icon","lucide",e()?`lucide-${e()}`:"",l.class)],Oe),g(s,i),xe()}function dt(s,t){const l=E(t,["children","$$slots","$$events","$$legacy"]);O(s,I({name:"circle-plus"},()=>l,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M8 12h8"}],["path",{d:"M12 8v8"}]],children:(e,a)=>{var n=k(),r=$(n);j(r,t,"default",{}),g(e,n)},$$slots:{default:!0}}))}function ut(s,t){const l=E(t,["children","$$slots","$$events","$$legacy"]);O(s,I({name:"circle-user-round"},()=>l,{iconNode:[["path",{d:"M18 20a6 6 0 0 0-12 0"}],["circle",{cx:"12",cy:"10",r:"4"}],["circle",{cx:"12",cy:"12",r:"10"}]],children:(e,a)=>{var n=k(),r=$(n);j(r,t,"default",{}),g(e,n)},$$slots:{default:!0}}))}function ft(s,t){const l=E(t,["children","$$slots","$$events","$$legacy"]);O(s,I({name:"database"},()=>l,{iconNode:[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5"}],["path",{d:"M3 12A9 3 0 0 0 21 12"}]],children:(e,a)=>{var n=k(),r=$(n);j(r,t,"default",{}),g(e,n)},$$slots:{default:!0}}))}function gt(s,t){const l=E(t,["children","$$slots","$$events","$$legacy"]);O(s,I({name:"goal"},()=>l,{iconNode:[["path",{d:"M12 13V2l8 4-8 4"}],["path",{d:"M20.561 10.222a9 9 0 1 1-12.55-5.29"}],["path",{d:"M8.002 9.997a5 5 0 1 0 8.9 2.02"}]],children:(e,a)=>{var n=k(),r=$(n);j(r,t,"default",{}),g(e,n)},$$slots:{default:!0}}))}var pt=T('<div class="flex items-center justify-center min-h-screen"><p class="text-xl">Loading...</p></div>'),mt=T('<div class="flex items-center justify-center min-h-screen"><p class="text-xl">Redirecting to login...</p></div>'),vt=T('<a href="/" title="Log"><!> <span>Log</span></a> <a href="/food-items" title="Foods"><!> <span>Foods</span></a> <a href="/settings/targets" title="Targets"><!> <span>Targets</span></a> <a href="/profile" title="Profile"><!> <span>Profile</span></a>',1),ht=T('<a href="/login" class="text-gray-700 hover:text-indigo-600">Login</a>'),_t=T('<header class="bg-gray-100 shadow-sm"><nav class="container mx-auto px-4 py-2 flex justify-between items-center max-w-5xl"><a href="/" class="text-lg font-semibold text-indigo-600 hover:text-indigo-800">Eatelligence</a> <div class="flex items-center space-x-1 lg:space-x-4"><!></div></nav></header> <main class="container mx-auto p-4 max-w-5xl"><!></main>',1);function Ct(s,t){_e(t,!0);const[l,o]=Ze(),e=()=>et(it,"$page",l);let a=Xe(Ye(at(fe)));He(()=>{const d=fe.subscribe(i=>{Ke(a,i,!0)});return!f(a).loading&&!f(a).user&&e().url.pathname!=="/login"&&ge("/login"),()=>{d()}}),Je(()=>{!f(a).loading&&!f(a).user&&e().url.pathname!=="/login"&&ge("/login")});var n=k(),r=$(n);{var y=d=>{var i=pt();g(d,i)},c=(d,i)=>{{var u=p=>{var v=mt();g(p,v)},w=p=>{var v=_t(),m=$(v),z=x(m),M=h(x(z),2),B=x(M);{var X=S=>{var W=vt(),C=$(W);let L;var P=x(C);const J=G(()=>e().url.pathname==="/"?28:24);dt(P,{get size(){return f(J)}});var be=h(P,2);let Z;b(C);var R=h(C,2);let ee;var te=x(R);const $e=G(()=>e().url.pathname==="/food-items"?28:24);ft(te,{get size(){return f($e)}});var ye=h(te,2);let ae;b(R);var V=h(R,2);let se;var ne=x(V);const Ne=G(()=>e().url.pathname==="/settings/targets"?28:24);gt(ne,{get size(){return f(Ne)}});var ke=h(ne,2);let re;b(V);var K=h(V,2);let le;var ie=x(K);const we=G(()=>e().url.pathname==="/profile"?28:24);ut(ie,{get size(){return f(we)}});var ze=h(ie,2);let oe;b(K),U((Me,Se,Ce,Pe,Ae,Ee,We,Te)=>{L=N(C,1,"hover:text-indigo-600 p-2 lg:p-0 lg:flex lg:items-center",null,L,Me),Z=N(be,1,"hidden lg:inline lg:ml-1.5",null,Z,Se),ee=N(R,1,"hover:text-indigo-600 p-2 lg:p-0 lg:flex lg:items-center",null,ee,Ce),ae=N(ye,1,"hidden lg:inline lg:ml-1.5",null,ae,Pe),se=N(V,1,"hover:text-indigo-600 p-2 lg:p-0 lg:flex lg:items-center",null,se,Ae),re=N(ke,1,"hidden lg:inline lg:ml-1.5",null,re,Ee),le=N(K,1,"hover:text-indigo-600 p-2 lg:p-0 lg:flex lg:items-center",null,le,We),oe=N(ze,1,"hidden lg:inline lg:ml-1.5",null,oe,Te)},[()=>({"text-indigo-600":e().url.pathname==="/","text-gray-700":e().url.pathname!=="/"}),()=>({"font-semibold":e().url.pathname==="/"}),()=>({"text-indigo-600":e().url.pathname==="/food-items","text-gray-700":e().url.pathname!=="/food-items"}),()=>({"font-semibold":e().url.pathname==="/food-items"}),()=>({"text-indigo-600":e().url.pathname==="/settings/targets","text-gray-700":e().url.pathname!=="/settings/targets"}),()=>({"font-semibold":e().url.pathname==="/settings/targets"}),()=>({"text-indigo-600":e().url.pathname==="/profile","text-gray-700":e().url.pathname!=="/profile"}),()=>({"font-semibold":e().url.pathname==="/profile"})]),g(S,W)},Y=S=>{var W=k(),C=$(W);{var L=P=>{var J=ht();g(P,J)};q(C,P=>{e().url.pathname!=="/login"&&P(L)})}g(S,W)};q(B,S=>{f(a).user?S(X):S(Y,!1)})}b(M),b(z),b(m);var H=h(m,2),F=x(H);nt(F,()=>t.children),b(H),g(p,v)};q(d,p=>{!f(a).user&&e().url.pathname!=="/login"?p(u):p(w,!1)},i)}};q(r,d=>{f(a).loading?d(y):d(c,!1)})}g(s,n),xe(),o()}export{Ct as component};
